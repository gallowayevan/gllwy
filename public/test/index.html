<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subreddit Image Fetcher</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .container {
            max-width: 1200px;
            margin: 10px auto;
            text-align: center;
        }

        label {
            font-size: 1.2em;
            display: block;
            margin-bottom: 10px;
        }

        input {
            padding: 8px;
            font-size: 1em;
            width: 60%;
            margin-bottom: 10px;
        }

        button {
            padding: 10px;
            font-size: 1em;
            cursor: pointer;
        }

        #imageContainer {
            margin-top: 20px;
        }

        #imageContainer img {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <label for="subredditInput">Enter Subreddit:</label>
        <input type="text" id="subredditInput" placeholder="e.g., dataisbeautiful">
        <button onclick="fetchImages()">Fetch Images</button>
        <div id="imageContainer"></div>
    </div>
    <script>
        async function fetchImages() {
            const subreddit = document.getElementById('subredditInput').value;
            const url = `https://www.reddit.com/r/${subreddit}/top.json?limit=24`;

            try {
                const response = await fetch(url);
                const data = await response.json();

                const imageContainer = document.getElementById('imageContainer');
                imageContainer.innerHTML = '';

                data.data.children.forEach(post => {
                    console.log(post)
                    if (post.data.url && (post.data.url.includes('jpg') || post.data.url.includes('png'))) {
                        const image = document.createElement('img');
                        image.src = post.data.url;
                        imageContainer.appendChild(image);
                    }
                });
            } catch (error) {
                console.error('Error fetching images:', error);
            }
        }
    </script>
</body>
</html>
